<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¶–∏–∫–ª –î–æ–ª–≥–∞</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- –ö–ù–û–ü–ö–ê –î–õ–Ø –ú–ï–ù–Æ –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê -->
    <button id="dev-menu-btn" style="position:fixed;top:10px;right:10px;z-index:1000;padding:7px 16px;font-size:15px;">Dev</button>
    <button id="switch-style2-btn" class="style2-switch-btn" style="position:fixed;top:10px;right:70px;z-index:1000;">Style 2</button>
    <div id="dev-menu-modal" class="modal-overlay hidden">
        <div class="modal-content" style="max-width:400px;">
            <h2>–ú–µ–Ω—é —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞</h2>
            <div id="dev-menu-content">
                <button id="dev-add-coins">+1000 –º–æ–Ω–µ—Ç</button>
                <button id="dev-add-tickets">+100 —Ç–∞–ª–æ–Ω–æ–≤</button>
                <button id="dev-set-interest">–°–¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫—É 50%</button>
                <div style="margin:10px 0;">
                    <label for="dev-item-select">–í—ã–¥–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç:</label>
                    <select id="dev-item-select"></select>
                    <button id="dev-give-item">–í—ã–¥–∞—Ç—å</button>
                </div>
                <div style="margin:15px 0 5px 0; font-weight:bold;">–®–∞–Ω—Å—ã –≤—ã–ø–∞–¥–µ–Ω–∏—è —Å–∏–º–≤–æ–ª–æ–≤:</div>
                <div id="dev-symbol-chances"></div>
                <button id="dev-apply-chances" style="margin-top:10px;">–ü—Ä–∏–º–µ–Ω–∏—Ç—å —à–∞–Ω—Å—ã</button>
                <div style="margin:15px 0 5px 0; font-weight:bold;">–†–µ–¥–∞–∫—Ç–æ—Ä —É–¥–∞—á–∏:</div>
                <div style="display:flex;align-items:center;gap:8px;">
                    <label for="dev-luck-input">–í—Ä–µ–º–µ–Ω–Ω–∞—è —É–¥–∞—á–∞:</label>
                    <input type="number" id="dev-luck-input" style="width:60px;">
                    <button id="dev-apply-luck">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                </div>
                <button id="dev-close-menu" style="margin-top:20px;">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <div class="game-container">
        <div class="main-panel">
            <div class="slot-area">
                <div id="slot-machine" class="slot-machine"></div>
                <div class="lever-container">
                    <div id="lever" class="lever"><div class="lever-handle"></div></div>
                    <div class="lever-base"></div>
                </div>
            </div>
            <div class="controls">
                <span>–ü—Ä–æ–∫—Ä—É—Ç–æ–≤ –æ—Å—Ç–∞–ª–æ—Å—å: <span id="spins-left">0</span></span>
                <button id="btn-end-turn">–ó–∞–∫–æ–Ω—á–∏—Ç—å —Ä–∞—É–Ω–¥</button>
            </div>
            <div class="log-panel" id="log-panel"></div>
             <!-- –ê–ú–£–õ–ï–¢–´ –ü–ï–†–ï–ú–ï–©–ï–ù–´ –°–Æ–î–ê -->
            <div class="ui-box">
                <h3>–ê–º—É–ª–µ—Ç—ã</h3>
                <div id="inventory-items" class="inventory-items"></div>
            </div>
        </div>

        <div class="ui-panel">
            <div class="ui-box">
                <h3>–°–æ—Å—Ç–æ—è–Ω–∏–µ</h3>
                <div class="stats-grid compact-stats">
                    <span>–¶–∏–∫–ª –î–æ–ª–≥–∞:</span><span id="stat-run">1</span>
                    <span>–†–∞—É–Ω–¥:</span><span id="stat-turn">1 / 3</span>
                    <span style="color: var(--danger-color);">–¶–ï–õ–¨:</span><span id="stat-debt" style="color: var(--danger-color);">50</span>
                    <span style="color: var(--money-color);">–ù–∞–ª–∏—á–Ω—ã–µ:</span><span id="stat-coins" style="color: var(--money-color);">0</span>
                    <span style="color: var(--ticket-color);">–¢–∞–ª–æ–Ω—ã:</span><span id="stat-tickets" style="color: var(--ticket-color);">0</span>
                    <span style="color: var(--luck-color);">–£–¥–∞—á–∞:</span><span id="stat-luck" style="color: var(--luck-color);">0</span>
                </div>
            </div>
            <div class="ui-box">
                <h3>–ë–∞–Ω–∫</h3>
                <div class="stats-grid">
                    <span>–ë–∞–ª–∞–Ω—Å:</span><span id="bank-balance" style="color: var(--money-color);">0</span>
                    <span>–°—Ç–∞–≤–∫–∞:</span><span><span id="atm-interest-rate">3</span>%</span>
                </div>
                <div class="atm-actions">
                    <input type="number" id="deposit-amount" placeholder="–°—É–º–º–∞">
                    <button id="btn-deposit">–í–Ω–µ—Å—Ç–∏</button>
                </div>
                <div id="early-payoff-section" class="early-payoff-section">
                    <button id="btn-pay-debt-early">–í—ã–ø–ª–∞—Ç–∏—Ç—å –¥–æ–ª–≥ –¥–æ—Å—Ä–æ—á–Ω–æ</button>
                    <div id="early-payoff-bonus-info" class="early-payoff-info"></div>
                </div>
            </div>
            <div class="ui-box">
                <h3>–ú–∞–≥–∞–∑–∏–Ω <button id="btn-reroll-shop" style="float: right; font-size: 12px; padding: 5px 8px;">Reroll (2üéüÔ∏è)</button></h3>
                <div id="shop-items" class="shop-items"></div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div id="start-screen" class="modal-overlay">
        <div class="modal-content">
            <h2>–¶–∏–∫–ª –î–æ–ª–≥–∞</h2>
            <p>–£ –≤–∞—Å –µ—Å—Ç—å 3 —Ä–∞—É–Ω–¥–∞ (–¥–Ω—è), —á—Ç–æ–±—ã —Å–æ–±—Ä–∞—Ç—å —Å—É–º–º—É –¥–ª—è –≤—ã–ø–ª–∞—Ç—ã –¥–æ–ª–≥–∞. –í–Ω–æ—Å–∏—Ç–µ –¥–µ–Ω—å–≥–∏ –≤ –±–∞–Ω–∫, –ø–æ–∫—É–ø–∞–π—Ç–µ –ø—Ä–æ–∫—Ä—É—Ç—ã –∏ –∞–º—É–ª–µ—Ç—ã, –∏ –º–æ–ª–∏—Ç–µ—Å—å –æ–± —É–¥–∞—á–µ. –ï—Å–ª–∏ –∫ –∫–æ–Ω—Ü—É 3-–≥–æ –¥–Ω—è —É –≤–∞—Å –Ω–µ –±—É–¥–µ—Ç –Ω—É–∂–Ω–æ–π —Å—É–º–º—ã... –≤—ã –ø—Ä–æ–≤–∞–ª–∏—Ç–µ—Å—å –≤ —è–º—É.</p>
            <div id="start-debt-amount" style="color: var(--danger-color); font-size: 1.5em; font-weight: bold; margin: 10px 0; animation: debt-pulse 1.2s infinite alternate;">–í—Å–µ–≥–æ –¥–æ–ª–≥: <span id="stat-debt" style="color: var(--danger-color);">88,888,888 –º–ª–Ω</span>üí∞</div>
            <button id="btn-show-tutorial" style="margin-bottom: 10px;">–ö–∞–∫ –∏–≥—Ä–∞—Ç—å?</button>
            <button id="btn-start-game">–ù–∞—á–∞—Ç—å</button>
        </div>
    </div>
    <div id="game-over-screen" class="modal-overlay hidden">
        <div class="modal-content">
            <h2 class="shake">–í–´ –ü–†–û–í–ê–õ–ò–õ–ò–°–¨ –í –Ø–ú–£</h2>
            <p>–°—É–¥–Ω—ã–π –¥–µ–Ω—å –Ω–∞—Å—Ç–∞–ª, –∞ –¥–µ–Ω–µ–≥ –Ω–µ—Ç. –¢—å–º–∞ –ø–æ–≥–ª–æ—â–∞–µ—Ç –≤–∞—Å.</p>
            <p>–í—ã –ø—Ä–æ–¥–µ—Ä–∂–∞–ª–∏—Å—å: <span id="final-run"></span> —Ü–∏–∫–ª(–æ–≤).</p>
            <button id="btn-restart-game">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
        </div>
    </div>
    <div id="spin-purchase-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h2 id="purchase-modal-title">–†–∞—É–Ω–¥ 1. –í—Ä–µ–º—è –∑–∞–∫—É–ø–∞—Ç—å—Å—è.</h2>
            <p>–í–∞—à–∏ –Ω–∞–ª–∏—á–Ω—ã–µ: <span id="purchase-modal-coins" style="color: var(--money-color)">0</span>. –í—ã–±–µ—Ä–∏—Ç–µ, –∫–∞–∫ –≤—ã –ø–æ—Ç—Ä–∞—Ç–∏—Ç–µ –¥–µ–Ω—å–≥–∏ —Å–µ–≥–æ–¥–Ω—è.</p>
            <p>–¶–∏–∫–ª –¥–æ–ª–≥–∞: <span id="purchase-modal-debt" style="color: var(--danger-color)">0</span></p>
            <button id="buy-spins-7">7 –ø—Ä–æ–∫—Ä—É—Ç–æ–≤ + 1 —Ç–∞–ª–æ–Ω (–°—Ç–æ–∏–º–æ—Å—Ç—å: 10üí∞)</button>
            <button id="buy-spins-3">3 –ø—Ä–æ–∫—Ä—É—Ç–∞ + 2 —Ç–∞–ª–æ–Ω–∞ (–°—Ç–æ–∏–º–æ—Å—Ç—å: 7üí∞)</button>
            <button id="buy-spin-1">1 –ø—Ä–æ–∫—Ä—É—Ç (3üí∞, –±–µ–∑ —Ç–∞–ª–æ–Ω–æ–≤)</button>
            <button id="buy-nothing">–ù–∏—á–µ–≥–æ. –Ø —Å–ø—Ä–∞–≤–ª—é—Å—å.</button>
            <button id="btn-planning" style="margin-top: 10px; background-color: var(--ticket-color); border-color: var(--ticket-color);">üìã –†–µ–∂–∏–º –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</button>
        </div>
    </div>
    <!-- –ù–û–í–û–ï –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –î–õ–Ø –†–ï–ñ–ò–ú–ê –ü–õ–ê–ù–ò–†–û–í–ê–ù–ò–Ø -->
    <div id="planning-modal" class="modal-overlay hidden">
        <div class="modal-content" style="max-width: 800px; max-height: 80vh; overflow-y: auto;">
            <h2>üìã –†–µ–∂–∏–º –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
            <p>–ü–æ–∫—É–ø–∞–π—Ç–µ –∞–º—É–ª–µ—Ç—ã –∏ –¥—Ä—É–≥–∏–µ –ø—Ä–µ–¥–º–µ—Ç—ã –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Å–≤–æ–∏—Ö —à–∞–Ω—Å–æ–≤.</p>
            
            <div style="text-align: center; margin: 15px 0; padding: 10px; background-color: var(--cell-bg); border-radius: 4px; border: 1px solid var(--border-color);">
                <span style="color: var(--ticket-color); font-weight: bold;">–í–∞—à–∏ —Ç–∞–ª–æ–Ω—ã: <span id="planning-tickets">0</span>üéüÔ∏è</span>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                <div>
                    <h3 style="color: var(--ticket-color);">–ú–∞–≥–∞–∑–∏–Ω –∞–º—É–ª–µ—Ç–æ–≤</h3>
                    <div id="planning-shop-items" class="shop-items"></div>
                    <button id="btn-planning-reroll" style="margin-top: 10px; font-size: 12px; padding: 5px 8px;">Reroll (2üéüÔ∏è)</button>
                </div>
                <div>
                    <h3 style="color: var(--highlight-color);">–í–∞—à–∏ –∞–º—É–ª–µ—Ç—ã</h3>
                    <div id="planning-inventory-items" class="inventory-items"></div>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <button id="btn-finish-planning">–ó–∞–≤–µ—Ä—à–∏—Ç—å –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</button>
            </div>
        </div>
    </div>
    <div id="end-of-round-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h2 id="eor-title">–ö–æ–Ω–µ—Ü –†–∞—É–Ω–¥–∞</h2>
            <p>–î–µ–Ω—å –ø–æ–¥—Ö–æ–¥–∏—Ç –∫ –∫–æ–Ω—Ü—É. –í–Ω–µ—Å–∏—Ç–µ —Å–±–µ—Ä–µ–∂–µ–Ω–∏—è –≤ –±–∞–Ω–∫, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ü–µ–Ω—Ç—ã –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ä–∞—É–Ω–¥–µ.</p>
            <div class="modal-stats">
                <span>–ù–∞–ª–∏—á–Ω—ã–µ:</span><span id="eor-coins" style="color: var(--money-color)"></span>
                <span>–í –±–∞–Ω–∫–µ:</span><span id="eor-bank" style="color: var(--money-color)"></span>
            </div>
            <div class="atm-actions" style="justify-content: center; max-width: 300px; margin: 20px auto;">
                <input type="number" id="eor-deposit-amount" placeholder="–°—É–º–º–∞ –≤–∫–ª–∞–¥–∞">
                <button id="btn-eor-deposit">–í–Ω–µ—Å—Ç–∏</button>
            </div>
            <button id="btn-confirm-end-turn">–ó–∞–≤–µ—Ä—à–∏—Ç—å –†–∞—É–Ω–¥</button>
        </div>
    </div>
    <div id="judgement-modal" class="modal-overlay hidden">
         <div class="modal-content">
            <h2 id="judgement-title">–°–£–î–ù–´–ô –î–ï–ù–¨</h2>
            <p id="judgement-text">...–ø–æ–¥—Å—á–µ—Ç –æ–∫–æ–Ω—á–µ–Ω...</p>
            <button id="judgement-continue">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
        </div>
    </div>
    <div id="tutorial-modal" class="modal-overlay hidden">
        <div class="modal-content" style="max-width: 500px;">
            <div id="tutorial-pages">
                <!-- –¢—É—Ç–æ—Ä–∏–∞–ª –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç–æ–º -->
            </div>
            <div style="display: flex; justify-content: space-between; margin-top: 20px;">
                <button id="tutorial-prev">–ù–∞–∑–∞–¥</button>
                <button id="tutorial-next">–î–∞–ª–µ–µ</button>
            </div>
            <button id="tutorial-close" style="margin-top: 15px; width: 100%;">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>
    
    <script src="items.js"></script>
    <script src="skript.js"></script>
    <script>
      document.getElementById('switch-style2-btn').onclick = function() {
        window.location.href = 'style2/index_style2.html';
      };
      const startDebtEl = document.getElementById('stat-debt-start');
      if (startDebtEl) {
          const debtElements = document.querySelectorAll('#stat-debt');
          if (debtElements.length > 0) {
              startDebtEl.textContent = debtElements[0].textContent;
          }
      }
    </script>
    <style>
    @keyframes debt-pulse {
      0% { filter: brightness(1); transform: scale(1); }
      100% { filter: brightness(1.5); transform: scale(1.08); }
    }
    </style>
</body>
</html>